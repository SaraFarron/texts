# Dancer. Ћогирование

ѕо-умолчанию, после установки, Dancer поддерживает два типа логировани€ на выбор: запись логов в файл или вывод
возникающих ошибок на консоль. ¬новь созданное приложение использует второй вариант.

ƒл€ сохранени€ логов в файле, что намного привычнее и удобнее дл€ дальнейшего использовани€, надо внести
в приложение следующие изменени€:
<ol>
<li>¬ каталоге "environments" присутствует несколько конфигов, дл€ различного окружени€. ¬ зависимости от того, какое окружение вы используете, в соответствующем файле надо исправить параметр logger с "console" на "file".
<pre>logger: "file"</pre>
</li>

<li>Ќастроить уровень подробности вывода логов. ѕо-умолчанию, в конфиге проставлено:
<pre>log: "core"</pre>
ћожно выбрать один из типов логировани€:
<pre>log: 'debug'     # будет выводить все: ошибки, предупреждени€, отладочные 
                 # и информационные сообщени€
log: 'info'      # будет выводить ошибки, предупреждени€, информационные 
                 # сообщени€
log: 'warning'   # будет выводить только предупреждени€ и ошибки
log: 'error'     # выводит только ошибки
</pre>
</li>

<li>Ќастроить формат логов. — одной стороны, это сделает лог более читабельным (формат "по-умолчанию" не удобен):
<pre>[1900]  core @0.021200&gt; [hit #1]response: 200 in 
&gt; C:/strawberry/perl/site/lib/Dancer/Handler.pm l. 179
</pre>
, с другой - сделает файл структурированным, что позволит создавать автоматические обработчики дл€ логов, подключать
системы мониторинга. ‘ормат настраиваетс€ в том же файле, одном из конфигов каталога "environments".

ѕример:
<pre>logger_format: "[%T] [%P] %f:%l %m"</pre>

¬ыводит в лог строку:
<pre>[2012-10-08 11:51:03] [2788] C:/strawberry/perl/site/lib/Dancer/Route.pm:102  
 --&gt; got 1
</pre>
</li>

<li>ѕерезапустить сервер.
ѕосле старта, сервер создаст папку "logs" в корне проекта, который будет содержать файлы логов. ƒл€ каждого окружени€
будет использоватьс€ собственный одноименный файл.</li>
</ol>
