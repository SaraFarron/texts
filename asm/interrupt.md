# Что такое прерывание

*Просто небольшая подборка справочной информации на тему прерываний. Мне подобные подборки помогают,
при необходимости, быстро вспомнить - что такое прерывания и что именно обозначает вызов того или иного прерывания в простых примерах asm-кода.*


<font color="#00aa00">Прерывание (Interrupt)</font> - это прерывание процесса выполнения текущей программы для выполнения какой-либо другой работы.

Прерывания могут быть <font color="#00aa00">программными</font> и <font color="#00aa00">аппаратными</font>. Аппаратные генерируются устройствами, а программные вызываются самой программой и являются фактически аналогами вызова подпрограмм, вызовами системных функций DOS, например.

Аппаратные прерывания прерывают выполнение программы в момент, когда происходит какое-то событие, например, при нажатие клавиши на клавиатуре, движение мыши и т.п.

Для того чтобы связать адрес обработчика прерывания с номером прерывания, используется <font color="#00aa00">таблица векторов прерываний (Interrupt Descriptor Table)</font>.

Первый этап инициализации таблицы векторов прерываний выполняется BIOS, перед загрузкой ОС. Второй - непосредственно самой операционной системой. Операционной системе доступно изменение некоторых адресов прерываний.

Таблицу можно представить, как таблицу с одним столбцом и множеством строк. Каждый элемент таблицы указывает на подпрограмму обработки указанного типа прерывания.

Первая строка будет указывать на обработчик для прерывания int 0, вторая - int 1 и т.п. Длина таблицы зависит от операционной системы и используемого оборудования.

Для вызова прерываний используется шестнадцатеричная система исчисления.

## Назначение наиболее важных векторов прерываний MS-DOS

<table class="nice" width="700">
<tbody>
<tr>
<td width="80">Номер</td>
<td>Описание</td>
</tr>
<tr>
<td>0</td>
<td><b>Ошибка деления.</b>

Вызывается автоматически после выполнения команд DIV или IDIV, если в результате деления происходит переполнение (например, при делении на 0). Обычно при обработке этого прерывания MS-DOS выводит сообщение об ошибке и останавливает выполнение программы. При этом для процессора i8086 адрес возврата указывает на команду, следующую после команды деления, а для процессора i80286 и более старших моделей - на первый байт команды, вызвавшей прерывание</td>
</tr>
<tr>
<td>1</td>
<td><b>Прерывание пошагового режима.</b>

Вырабатывается после выполнения каждой машинной команды, если в слове флагов установлен бит пошаговой трассировки TF. Используется для отладки программ. Это прерывание не вырабатывается после пересылки данных в сегментные регистры командами MOV и POP</td>
</tr>
<tr>
<td>2</td>
<td><b>Аппаратное немаскируемое прерывание.</b>

Это прерывание может использоваться по-разному в разных машинах. Обычно оно вырабатывается при ошибке четности в оперативной памяти и при запросе прерывания от сопроцессора</td>
</tr>
<tr>
<td>3</td>
<td><b>Прерывание для трассировки.</b>

Генерируется при выполнении однобайтовой машинной команды с кодом CCh и обычно используется отладчиками для установки точки прерывания</td>
</tr>
<tr>
<td>4</td>
<td><b>Переполнение.</b>

Генерируется машинной командой INTO , если установлен флаг переполнения OF. Если флаг не установлен, команда INTO выполняется как NOP. Это прерывание используется для обработки ошибок при выполнении арифметических операций</td>
</tr>
<tr>
<td>5</td>
<td><b>Печать копии экрана.</b>

Генерируется, если пользователь нажал клавишу &lt;PrtSc&gt;. В программах MS-DOS обычно используется для печати образа экрана. Для процессора i80286 и более старших моделей генерируется при выполнении машинной команды BOUND, если проверяемое значение вышло за пределы заданного диапазона</td>
</tr>
<tr>
<td>6</td>
<td>Неопределенный код операции или длина команды больше 10 байт</td>
</tr>
<tr>
<td>7</td>
<td>Особый случай отсутствия арифметического сопроцессора</td>
</tr>
<tr>
<td>8</td>
<td>IRQ0 - прерывание интервального таймера, возникает 18,2 раза в секунду</td>
</tr>
<tr>
<td>9</td>
<td>IRQ1 - прерывание от клавиатуры. Генерируется, когда пользователь нажимает и отжимает клавиши. Используется для чтения данных из клавиатуры</td>
</tr>
<tr>
<td>A</td>
<td>IRQ2 - используется для каскадирования аппаратных прерываний</td>
</tr>
<tr>
<td>B</td>
<td>IRQ3 - прерывание асинхронного порта COM2</td>
</tr>
<tr>
<td>C</td>
<td>IRQ4 - прерывание асинхронного порта COM1</td>
</tr>
<tr>
<td>D</td>
<td>IRQ5 - прерывание от контроллера жесткого диска (только для компьютеров IBM PC/XT)</td>
</tr>
<tr>
<td>E</td>
<td>IRQ6 - прерывание генерируется контроллером НГМД после завершения операции ввода/вывода</td>
</tr>
<tr>
<td>F</td>
<td>IRQ7 - прерывание от параллельного адаптера. Генерируется, когда подключенный к адаптеру принтер готов к выполнению очередной операции. Обычно не используется</td>
</tr>
<tr>
<td>10</td>
<td>Обслуживание видеоадаптера</td>
</tr>
<tr>
<td>11</td>
<td>Определение конфигурации устройств в системе</td>
</tr>
<tr>
<td>12</td>
<td>Определение размера оперативной памяти</td>
</tr>
<tr>
<td>13</td>
<td>Обслуживание дисковой системы</td>
</tr>
<tr>
<td>14</td>
<td>Работа с асинхронным последовательным адаптером</td>
</tr>
<tr>
<td>15</td>
<td>Расширенный сервис</td>
</tr>
<tr>
<td>16</td>
<td>Обслуживание клавиатуры</td>
</tr>
<tr>
<td>17</td>
<td>Обслуживание принтера</td>
</tr>
<tr>
<td>18</td>
<td>Запуск BASIC в ПЗУ, если он есть</td>
</tr>
<tr>
<td>19</td>
<td>Перезагрузка операционной системы</td>
</tr>
<tr>
<td>1A</td>
<td>Обслуживание часов</td>
</tr>
<tr>
<td>1B</td>
<td>Обработчик прерывания, возникающего, если пользователь нажал комбинацию клавиш &lt;Ctrl+Break&gt;</td>
</tr>
<tr>
<td>1C</td>
<td>Программное прерывание, вызывается 18,2 раза в секунду обработчиком аппаратного прерывания таймера</td>
</tr>
<tr>
<td>1D</td>
<td>Адрес видеотаблицы для контроллера видеоадаптера 6845</td>
</tr>
<tr>
<td>1E</td>
<td>Указатель на таблицу параметров дискеты</td>
</tr>
<tr>
<td>1F</td>
<td>Указатель на графическую таблицу для символов с кодами ASCII 128-255</td>
</tr>
<tr>
<td>20-5F</td>
<td>Используется MS-DOS или зарезервировано для MS-DOS</td>
</tr>
<tr>
<td>60-67</td>
<td>Прерывания, зарезервированные для программ пользователя</td>
</tr>
<tr>
<td>68-6F</td>
<td>Не используются</td>
</tr>
<tr>
<td>70</td>
<td>IRQ8 - прерывание от часов реального времени</td>
</tr>
<tr>
<td>71</td>
<td>IRQ9 - прерывание от контроллера EGA</td>
</tr>
<tr>
<td>72</td>
<td>IRQ10 - зарезервировано</td>
</tr>
<tr>
<td>73</td>
<td>IRQ11 - зарезервировано</td>
</tr>
<tr>
<td>74</td>
<td>IRQ12 - зарезервировано</td>
</tr>
<tr>
<td>75</td>
<td>IRQ13 - прерывание от арифметического сопроцессора</td>
</tr>
<tr>
<td>76</td>
<td>IRQ14 - прерывание от контроллера жесткого диска</td>
</tr>
<tr>
<td>77</td>
<td>IRQ15 - зарезервировано</td>
</tr>
<tr>
<td>78-7F</td>
<td>Не используются</td>
</tr>
<tr>
<td>80-85</td>
<td>Зарезервировано для BASIC</td>
</tr>
<tr>
<td>86-F0</td>
<td>Используются интерпретатором BASIC</td>
</tr>
<tr>
<td>F1-FF</td>
<td>Не используются</td>
</tr>
</tbody>
</table>
Прерывания, обозначенные как IRQ0 - IRQ15 являются аппаратными прерываниями.


## Прерывания BIOS

В данном разделе приведены основные прерывания BIOS.
<table class="nice" width="700">
<tbody>
<tr>
<td width="80">INT 05H</td>
<td><b>Печать  экрана.</b>

Выполняет вывод содержимого экрана на печатающее устройство.  Команда INT 05H выполняет  данную  операцию  из программы,  а  нажатие  клавишей  Ctrl/PrtSc  -  с  клавиатуры.  Операция запрещает прерывания и сохраняет позицию курсора.</td>
</tr>
<tr>
<td>INT 10H</td>
<td><b>Управление дисплеем.</b>

Обеспечивает экранные и клавиатурные операции.</td>
</tr>
<tr>
<td>INT 11H</td>
<td><b>Запрос списка присоединенного оборудования.</b>

Определяет наличие различных устройств в системе, результирующее значение возвращает в регистре AX. При включении компьютера система выполняет эту операцию и  сохраняет  содержимое  AX  в  памяти  по адресу шест.410. Значения битов в регистре AX:
<table class="nicesimple">
<tbody>
<tr>
<td>Бит</td>
<td>Устройство</td>
</tr>
<tr>
<td>15,14</td>
<td>Число подключенных принтеров.</td>
</tr>
<tr>
<td>13</td>
<td>Последовательный принтер.</td>
</tr>
<tr>
<td>12</td>
<td>Игровой адаптер.</td>
</tr>
<tr>
<td>11-9</td>
<td>Число последовательных адаптеров стыка RS232.</td>
</tr>
<tr>
<td>7,6</td>
<td>Число дискетных дисководов, при бите 0=1: 00=1, 01=2, 10=3 и 11=4.</td>
</tr>
<tr>
<td>5,4</td>
<td>Начальный видео режим:
00 = не используется,
01 = 40х25 плюс цвет,
10 = 80х25 плюс цвет,
11 = 80х25 черно-белый режим.</td>
</tr>
<tr>
<td>1</td>
<td>Значение 1 говорит о наличии сопроцессора.</td>
</tr>
<tr>
<td>0</td>
<td>Значение 1 говорит о наличии одного или более дисковых устройств и загрузка операционной системы должна осуществляться с диска.</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td>INT 12H</td>
<td><b>Запрос размера физической памяти.</b>

Возвращает в регистре AX размер памяти в  килобайтах,  например,  шест.200 соответствует памяти в 512 К.  Данная операция  полезна  для  выравнивания размера программы в соответствии с доступной памятью.</td>
</tr>
<tr>
<td>INT 13H</td>
<td><b>Дисковые операции ввода - вывода.</b>

Обеспечивает операции ввода-вывода для дискет и винчестера.</td>
</tr>
<tr>
<td>INT 14H</td>
<td><b>Управление коммуникационным адаптером.</b>

Обеспечивает   последовательный   ввод-вывод   через коммуникационный порт RS232. Регистр DX должен содержать номер (0  или  1) адаптера стыка RS232. Четыре типа  операции,  определяемые  регистром  AH,
выполняют прием и передачу  символов  и  возвращают  в  регистре  AX  байт состояния коммуникационного порта.</td>
</tr>
<tr>
<td>INT 15H</td>
<td><b>Кассетные операции  ввода - вывода и специальные функции для компьютеров AT.</b>

Обеспечивает операции  ввода-вывода  для  кассетного магнитофона,  а также расширенные операции для компьютеров AT.</td>
</tr>
<tr>
<td>INT 16H</td>
<td><b>Ввод с клавиатуры.</b>

Обеспечивает  три  типа команд ввода с клавиатуры.</td>
</tr>
<tr>
<td>INT 17H</td>
<td><b>Вывод на принтер.</b>

Обеспечивает вывод данных на печатающее устройство.</td>
</tr>
<tr>
<td>INT 18H</td>
<td><b>Обращение к BASIC, встроенному в ROM.</b>

Вызывает BASIC-интерпретатор, находящийся в постоянной памяти ROM.</td>
</tr>
<tr>
<td>INT 19H</td>
<td><b>Перезапуск системы.</b>

Данная  операция  при доступном диске считывает  сектор  1  с  дорожки  0  в  область  начальной загрузки в памяти (сегмент 0, смещение  7C00)  и  передает  управление  по этому адресу.  Если дисковод не доступен, то операция передает  управление через INT 18H  в  ROM  BASIC.  Данная  операция  не  очищает  экран  и  не инициализирует данные в  ROM  BASIC,  поэтому  ее  можно  использовать  из программы.</td>
</tr>
<tr>
<td>INT 1AH</td>
<td><b>Запрос и установка текущего времени и даты.</b>

Считывает  и  записывает  показание  часов  в соответствии со значением в регистре AH. Для определения продолжительности выполнения программы можно перед началом выполнения установить часы в 0, а после считать текущее время. Отсчет времени идет примерно 18,2 раза в секунду. Значение в регистре AH соответствует следующим операциям:
<table class="nicesimple">
<tbody>
<tr>
<td>AH=00</td>
<td>Запрос времени. В регистре CX устанавливается старшая часть значения, а в регистре DX - младшая. Если  после  последнего запроса прошло 24 часа, то в регистре AL будет не нулевое значение.</td>
</tr>
<tr>
<td>AH=01</td>
<td>Установка времени. Время устанавливается по регистрам CX (старшая часть значения) и DX (младшая часть значения).</td>
</tr>
</tbody>
</table>
Коды 02 и 06 управляют временем и датой для AT.</td>
</tr>
<tr>
<td>INT 1FH</td>
<td><b>Адрес таблицы графических символов.</b>

В графическом режиме имеется доступ к символам с кодами 128-255 в 1К таблице, содержащей по восемь байт на каждый символ. Прямой доступ в графическом режиме обеспечивается только к первым 128
ASCII-символам (от 0 до 127).</td>
</tr>
</tbody>
</table>


## Прерывания DOS

Во время своей работы BIOS использует два модуля DOS: IBMBIO.COM и IBMDOS.COM. Так как модули DOS  обеспечивают большое количество разных дополнительных проверок, то операция DOS обычно проще в  использовании и менее машиннозависимы, чем их BIOS аналоги.

Модуль IBMBIO.COM обеспечивает интерфейс с BIOS низкого уровня. Эта программа выполняет управление вводом-выводом при чтении данных из внешних устройств в память и записи из памяти на внешние устройства.

Модуль IBMDOS.COM содержит средства управления  файлами и ряд сервисных функций, таких как блокирование и деблокирование записей. Когда пользовательская программа выдает запрос INT 21H, то в  программу  IBMDOS через регистры передается определенная информация. Затем программа IBMDOS транслирует эту информацию в один или несколько вызовов IBMBIO, которая в свою очередь вызывает BIOS. Указанные связи приведены на следующей схеме:
<table class="nice" width="700">
<tbody>
<tr>
<td>Пользовательский уровень</td>
<td>Высший уровень</td>
<td>Низший уровень</td>
<td>ROM</td>
<td>Внешний уровень</td>
</tr>
<tr>
<td>Программный запрос в/в</td>
<td>DOS IBMDOS.COM</td>
<td>DOS IBMBIO.COM</td>
<td>BIOS</td>
<td>Устройство</td>
</tr>
</tbody>
</table>
Как показано выше, прерывания от шест.20 до  шест.62  зарезервированы для операций DOS. Ниже приведены наиболее основные из них:
<table class="nice" width="700">
<tbody>
<tr>
<td width="80">INT 20H</td>
<td><b>Завершение программы.</b>

Запрос  завершает выполнение программы и передает управление в  DOS.  Данный  запрос  обычно находится в основной процедуре.</td>
</tr>
<tr>
<td>INT 21H</td>
<td><b>Запрос функций DOS.</b>

Основная  операция  DOS,
вызывающая определенную функцию в соответствии с кодом в регистре AH. Назначение функций DOS описано в следующем разделе.</td>
</tr>
<tr>
<td>INT 22H</td>
<td><b>Адрес подпрограммы обработки завершения задачи. (см.INT 24H).</b></td>
</tr>
<tr>
<td>INT 23H</td>
<td><b>Адрес подпрограммы реакции на Ctrl/Break. (см.INT 24H).</b></td>
</tr>
<tr>
<td>INT 24H</td>
<td><b>Адрес подпрограммы реакции на фатальную ошибку.</b>

В этом элементе и в двух предыдущих содержатся адреса, которые инициализируются системой в префиксе
программного сегмента и, которые можно изменить для своих целей. Подробности приведены в техническом описании DOS.</td>
</tr>
<tr>
<td>INT 25H</td>
<td><b>Абсолютное чтение с диска.</b></td>
</tr>
<tr>
<td>INT 26H</td>
<td><b>Абсолютная запись на диск.</b></td>
</tr>
<tr>
<td>INT 27H</td>
<td><b>Завершение программы, оставляющее ее резедентной.</b>

Позволяет сохранить COM-программу в памяти.</td>
</tr>
</tbody>
</table>


### Функции прерывания DOS INT 21H

Ниже приведены базовые функции для прерывания DOS INT 21H. Код функции устанавливается в регистре AH:
<table class="nice" width="700">
<tbody>
<tr>
<td width="80">00</td>
<td>Завершение программы (аналогично INT 20H).</td>
</tr>
<tr>
<td>01</td>
<td>Ввод символа с клавиатуры с эхом на экран.</td>
</tr>
<tr>
<td>02</td>
<td>Вывод символа на экран.</td>
</tr>
<tr>
<td>03</td>
<td>Ввод символа из асинхронного коммуникационного канала.</td>
</tr>
<tr>
<td>04</td>
<td>Вывод символа на асинхронный коммуникационный канал.</td>
</tr>
<tr>
<td>05</td>
<td>Вывод символа на печать.</td>
</tr>
<tr>
<td>06</td>
<td>Прямой ввод с клавиатуры и вывод на экран.</td>
</tr>
<tr>
<td>07</td>
<td>Ввод с клавиатуры без эха и без проверки Ctrl/Break.</td>
</tr>
<tr>
<td>08</td>
<td>Ввод с клавиатуры без эха с проверкой Ctrl/Break.</td>
</tr>
<tr>
<td>09</td>
<td>Вывод строки символов на экран.</td>
</tr>
<tr>
<td>0А</td>
<td>Ввод с клавиатуры с буферизацией.</td>
</tr>
<tr>
<td>0В</td>
<td>Проверка наличия ввода с клавиатуры.</td>
</tr>
<tr>
<td>0С</td>
<td>Очистка буфера ввода с клавиатуры и запрос на ввод.</td>
</tr>
<tr>
<td>0D</td>
<td>Сброс диска.</td>
</tr>
<tr>
<td>0Е</td>
<td>Установка текущего дисковода.</td>
</tr>
<tr>
<td>0F</td>
<td>Открытие файла через FCB.</td>
</tr>
<tr>
<td>10</td>
<td>Закрытие файла через FCB.</td>
</tr>
<tr>
<td>11</td>
<td>Начальный поиск файла по шаблону.</td>
</tr>
<tr>
<td>12</td>
<td>Поиск следующего файла по шаблону.</td>
</tr>
<tr>
<td>13</td>
<td>Удаление файла с диска.</td>
</tr>
<tr>
<td>14</td>
<td>Последовательное чтение файла.</td>
</tr>
<tr>
<td>15</td>
<td>Последовательная запись файла.</td>
</tr>
<tr>
<td>16</td>
<td>Создание файла.</td>
</tr>
<tr>
<td>17</td>
<td>Переименование файла.</td>
</tr>
<tr>
<td>18</td>
<td>Внутренняя операция DOS.</td>
</tr>
<tr>
<td>19</td>
<td>Определение текущего дисковода.</td>
</tr>
<tr>
<td>1А</td>
<td>Установка области передачи данных (DTA).</td>
</tr>
<tr>
<td>1В</td>
<td>Получение таблицы FAT для текущего дисковода.</td>
</tr>
<tr>
<td>1С</td>
<td>Получение FAT для любого дисковода.</td>
</tr>
<tr>
<td>21</td>
<td>Чтение с диска с прямым доступом.</td>
</tr>
<tr>
<td>22</td>
<td>Запись на диск с прямым доступом.</td>
</tr>
<tr>
<td>23</td>
<td>Определение размера файла.</td>
</tr>
<tr>
<td>24</td>
<td>Установка номера записи для прямого доступа.</td>
</tr>
<tr>
<td>25</td>
<td>Установка вектора прерывания.</td>
</tr>
<tr>
<td>26</td>
<td>Создание программного сегмента.</td>
</tr>
<tr>
<td>27</td>
<td>Чтение блока записей с прямым доступом.</td>
</tr>
<tr>
<td>28</td>
<td>Запись блока с прямым доступом.</td>
</tr>
<tr>
<td>29</td>
<td>Преобразование имени файла во внутренние параметры.</td>
</tr>
<tr>
<td>2А</td>
<td>Получение даты (CX-год,DН-месяц,DL-день).</td>
</tr>
<tr>
<td>2В</td>
<td>Установка даты.</td>
</tr>
<tr>
<td>2С</td>
<td>Получение времени (CH-час,CL-мин,DН-с,DL-1/100с).</td>
</tr>
<tr>
<td>2D</td>
<td>Установка времени.</td>
</tr>
<tr>
<td>2Е</td>
<td>Установка/отмена верификации записи на диск.</td>
</tr>
</tbody>
</table>

Следующие расширенные функции возможны в DOS начиная с версии 2.0:

<table class="nice" width="700">
<tbody>
<tr>
<td width="80">2F</td>
<td>Получение адреса DTA в регистровой паре ES:BX.</td>
</tr>
<tr>
<td>30</td>
<td>Получение номера версии DOS в регистре АХ.</td>
</tr>
<tr>
<td>31</td>
<td>Завершение программы, после которого она остается резидентной в памяти.</td>
</tr>
<tr>
<td>33</td>
<td>Проверка Ctrl/Break.</td>
</tr>
<tr>
<td>35</td>
<td>Получение вектора прерывания (адреса подпрограммы).</td>
</tr>
<tr>
<td>36</td>
<td>Получение размера свободного пространства на диске.</td>
</tr>
<tr>
<td>38</td>
<td>Получение государственно зависимых форматов.</td>
</tr>
<tr>
<td>39</td>
<td>Создание подкаталога (команда MKDIR).</td>
</tr>
<tr>
<td>ЗА</td>
<td>Удаление подкаталога (команда RMDIR).</td>
</tr>
<tr>
<td>3В</td>
<td>Установка текущего каталога (команда CHDIR).</td>
</tr>
<tr>
<td>3C</td>
<td>Создание файла без использования FCB.</td>
</tr>
<tr>
<td>3D</td>
<td>Открытие файла без использования FCB.</td>
</tr>
<tr>
<td>3E</td>
<td>Закрытие файла без использования FCB.</td>
</tr>
<tr>
<td>3F</td>
<td>Чтение из файла или ввод с устройства.</td>
</tr>
<tr>
<td>40</td>
<td>Запись в файл или вывод на устройство.</td>
</tr>
<tr>
<td>41</td>
<td>Удаление файла из каталога.</td>
</tr>
<tr>
<td>42</td>
<td>Установка позиции для последовательного доступа.</td>
</tr>
<tr>
<td>43</td>
<td>Изменение атрибутов файла.</td>
</tr>
<tr>
<td>44</td>
<td>Управление вводом-выводом для различных устройств.</td>
</tr>
<tr>
<td>45</td>
<td>Дублирование файлового номера.</td>
</tr>
<tr>
<td>46</td>
<td>"Склеивание" дублированных файловых номеров.</td>
</tr>
<tr>
<td>47</td>
<td>Получение текущего каталога.</td>
</tr>
<tr>
<td>48</td>
<td>Выделение памяти из свободного пространства.</td>
</tr>
<tr>
<td>49</td>
<td>Освобождений выделенной памяти.</td>
</tr>
<tr>
<td>4А</td>
<td>Изменение длины блока выделенной памяти.</td>
</tr>
<tr>
<td>4В</td>
<td>Загрузка/выполнение программы (подпроцесса).</td>
</tr>
<tr>
<td>4С</td>
<td>Завершение подпроцесса с возвратом управления.</td>
</tr>
<tr>
<td>4D</td>
<td>Получение кода завершения подпроцесса.</td>
</tr>
<tr>
<td>4Е</td>
<td>Начальный поиск файла по шаблону.</td>
</tr>
<tr>
<td>4F</td>
<td>Поиск следующего файла по шаблону.</td>
</tr>
<tr>
<td>54</td>
<td>Получение состояния верификации.</td>
</tr>
<tr>
<td>56</td>
<td>Переименование файла.</td>
</tr>
<tr>
<td>57</td>
<td>Получение/установка даты и времени изменения файла.</td>
</tr>
</tbody>
</table>
Следующие расширенные функции возможны в DOS начиная с версии 3.0:
<table class="nice" width="700">
<tbody>
<tr>
<td width="80">59</td>
<td>Получение расширенного кода ошибки.</td>
</tr>
<tr>
<td>5А</td>
<td>Создание временного файла.</td>
</tr>
<tr>
<td>5В</td>
<td>Создание нового файла.</td>
</tr>
<tr>
<td>5С</td>
<td>Блокирование/разблокирование доступа к файлу.</td>
</tr>
<tr>
<td>62</td>
<td>Получение адреса префикса программного сегмента (PSP).</td>
</tr>
</tbody>
</table>
В техническом руководстве по DOS представлены подробные описания каждой функции.


## Пример вызова прерываний

<pre>mov ah,9h
mov dx,offset Message
int 21h
</pre>
Вызывается прерывание 21h. В регистр ah помещаем значение 9h. При вызове прерывания 21h будет
прочитано значение этого регистра (см. таблицы выше), и в зависимости от значения выбран тот или иной обработчик. Значение 9h - это вывод строки символов на экран, которая будет прочитана из регистра dx.
Очень похоже на вызов функции с передачей ей параметров, в более высокоуровневом языке.

<pre>int 20h</pre>

Вызов прерывания 20h, т.е. инициируем выход из программы. В результате выполнения этого прерывания, программа завершится и вернет нас туда, откуда мы ее запустили, например, в DOS Navigator. Это похоже на оператор <font color="#00aa00">exit()</font> в perl.

Символ "h" после числа, в строке "int 20h", означает, что используется шестнадцатиричная система исчисления.

